package com.epologee.ui.mouse {	import com.epologee.animation.go.EGoSet;			import org.goasap.utils.Sequence;			import com.epologee.animation.go.EGoFade;			import flash.display.Sprite;	import flash.display.Stage;	import flash.geom.Point;	import flash.utils.getQualifiedClassName;		/**	 * @author Eric-Paul Lecluse | epologee.com (c) 2008	 */	public class MouseBlocker implements IBlockable {		private var _target:Sprite;		private var _dimensions:Point;		private var _alpha:Number;		private var _color:uint;		private var _stage:Stage;		private var _isBlocking:Boolean;		private var _sq:Sequence;		public function MouseBlocker(inTarget:Sprite) {			_target = inTarget;		}				public function setDimensions(inDimensions:Point):void {			_dimensions = inDimensions;		}		public function setStyle(inColor:uint = 0x000000, inAlpha:Number = 0):void {			_color = inColor;			_alpha = inAlpha;		}		public function scaleToStage(inStage:Stage):void {			_stage = inStage;		}		public function block():void {			if (_isBlocking) return;			_isBlocking = true;			_target.buttonMode = true;			_target.mouseChildren = false;			_target.useHandCursor = false;						if (!_stage && !_dimensions) return;						var size:Point;			if (_stage) {				size = new Point(_stage.stageWidth, _stage.stageHeight);			} else {				size = _dimensions;			}						_target.graphics.clear();			_target.graphics.beginFill(_color, _alpha);			_target.graphics.drawRect(0, 0, size.x, size.y);			_target.graphics.endFill();						if (_alpha > 0) {				_target.alpha = 0;				if (_sq) _sq.stop();				_sq = new Sequence();				_sq.addStep(new EGoSet(_target).setVisible(true));				_sq.addStep(new EGoFade(_target, 0.5, 1));				_sq.start();			}		}		public function unblock():void {			if (!_isBlocking) return;						if (_alpha > 0) {				if (_sq) _sq.stop();				_sq = new Sequence();				_sq.addStep(new EGoFade(_target, 0.5, 0));				_sq.addStep(new EGoSet(_target).setVisible(false));				_sq.start();			} else {				_target.visible = false;			}						_isBlocking = false;		}		public function toString():String {			// com.epologee.ui.mouse.MouseBlocker			var s:String = "";			// s = "[ " + name + " ]:";			return s + getQualifiedClassName(this);		}	}}